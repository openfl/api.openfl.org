<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../jquery-1.9.1.min.js"></script><script src="../../bootstrap/js/bootstrap.min.js"></script><script src="../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../styles.css" rel="stylesheet"/><link href="../../extra-styles.css" rel="stylesheet"/><link href="../../haxe-nav.css" rel="stylesheet"/><link href="../../dark-mode.css" rel="stylesheet"/><script>var dox = {rootPath: "../../",platforms: ["AIR","Android","Flash","HTML5","HashLink","Linux","Neko","Windows","iOS","macOS"]};</script><script src="../../nav.js"></script><script src="../../index.js"></script><link rel="icon" href="../../favicon.ico" type="image/x-icon"/><title>openfl.filters.ConvolutionFilter - OpenFL API Reference</title><meta name="description" content="The ConvolutionFilter class applies a matrix convolution filter effect. A
convolution combines pixels in the input image with neighboring pixels to
produce an image. A wide variety of image effects can be achieved through
convolutions, including blurring, edge detection, sharpening, embossing,
and beveling. You can apply the filter to any display object (that is,
objects that inherit from the DisplayObject class), such as MovieClip,
SimpleButton, TextField, and Video objects, as well as to BitmapData
objects.
To create a convolution filter, use the syntax &lt;code&gt;new &lt;a href=&quot;../../openfl/filters/ConvolutionFilter.html#ConvolutionFilter&quot;&gt;ConvolutionFilter&lt;/a&gt;()&lt;/code&gt;.
The use of filters depends on the object to which you apply the filter:"/></head><body><script>/* Here to prevent flash of unstyled content */let systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if ((!localStorage.theme && systemDarkMode) || localStorage.theme == "dark") {document.body.style.backgroundColor = "#111";document.body.style.opacity = "0";document.addEventListener("DOMContentLoaded", function(event) {toggleTheme();document.body.style.backgroundColor = "";document.body.style.opacity = "";});}</script><style>
a,
code a,
code .type,
.dark-theme a,
.dark-theme code a,
.dark-theme code .type {
	color: #24afc4;
}
table {
	margin-bottom: 20px;
}
.navbar .brand {
	display: inline-flex;
	align-items: center;
	float: none;
	text-shadow: 0 0 0 transparent;
	min-height: 70px;
}
.nav-list>.active>a.treeLink,
.nav-list>.active>a.treeLink:hover,
.nav-list>.active>a.treeLink:focus,
.dark-theme .nav-list>.active>a.treeLink,
.dark-theme .nav-list>.active>a.treeLink:hover,
.dark-theme .nav-list>.active>a.treeLink:focus {
	background: #24afc4;
	color: #ffffff;
	text-shadow: 0 0 0 transparent;
}

.navbar .container {
	width: 940px ;
}
@media (max-width: 767px) {
	.navbar .container {
		width: auto;
	}
}
@media (max-width: 979px) and (min-width: 768px) {
	.navbar .container {
		width: 724px;
	}
}
@media (min-width: 1200px) {
	.navbar .container {
		width: 1170px;
	}
}
.navbar .container img {
	margin: 5px 0 0 4px;
}
</style><nav class="nav"><div class="navbar"><div class="navbar-inner" style="background:#FAFAFA; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" style="color:#777777" href="../../">API Reference</a><a href="#" id="theme-toggle" style="color:#777777" onclick="toggleTheme()" title="Toggle Dark Mode"><i class="fa fa-moon-o"></i></a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="fa fa-search"></i></span><input id="search" type="text" placeholder="Filter (Ctrl+P)" autocomplete="off"/></div></form><div class="dropdown"><select id="select-platform" class="selectpicker" title="Filter by platform" data-width="100%"><option value="all" selected="selected">All Platforms</option><option>AIR</option><option>Android</option><option>Flash</option><option>HTML5</option><option>HashLink</option><option>Linux</option><option>Neko</option><option>Windows</option><option>iOS</option><option>macOS</option></select></div></div><div class="well sidebar-nav" id="explorer"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/openfl/openfl/tree/develop/src/openfl/filters/ConvolutionFilter.hx" class="btn btn-medium"><i class="fa fa-eye"></i> View source</a></span><h1><small>class</small> ConvolutionFilter</h1><h4><small>package <a href="../../openfl/filters/index.html">openfl.filters</a></small></h4><h4><small>extends <a class="type" title="openfl.filters.BitmapFilter - The BitmapFilter class is the base class for all image filter effects." href="../../openfl/filters/BitmapFilter.html">BitmapFilter</a></small></h4>    <span class="label label-meta label-meta-fileXml" title="Include a given XML attribute snippet in the `Build.xml` entry for the file.">@:fileXml(&quot;tags=\&quot;haxe,release\&quot;&quot;)</span><span class="label label-meta label-meta-noDebug" title="Does not generate debug information even if `--debug` is set.">@:noDebug</span><hr/><p class="availability"><em>Available on  all platforms</em></p></div><div class="body"><div class="doc doc-main"><p>The ConvolutionFilter class applies a matrix convolution filter effect. A
convolution combines pixels in the input image with neighboring pixels to
produce an image. A wide variety of image effects can be achieved through
convolutions, including blurring, edge detection, sharpening, embossing,
and beveling. You can apply the filter to any display object (that is,
objects that inherit from the DisplayObject class), such as MovieClip,
SimpleButton, TextField, and Video objects, as well as to BitmapData
objects.
To create a convolution filter, use the syntax <code>new <a href="../../openfl/filters/ConvolutionFilter.html#ConvolutionFilter">ConvolutionFilter</a>()</code>.
The use of filters depends on the object to which you apply the filter:</p><ul><li>To apply filters to movie clips, text fields, buttons, and video, use
the <code>filters</code> property (inherited from DisplayObject). Setting the
<code>filters</code> property of an object does not modify the object, and you can
remove the filter by clearing the <code>filters</code> property.</li><li>To apply filters to BitmapData objects, use the
<code><a href="../../openfl/display/BitmapData.html#applyFilter">BitmapData.applyFilter</a>()</code> method. Calling <code>applyFilter()</code> on a BitmapData
object takes the source BitmapData object and the filter object and
generates a filtered image as a result.</li></ul>
<p>If you apply a filter to a display object, the value of the
<code>cacheAsBitmap</code> property of the object is set to <code>true</code>. If you clear all
filters, the original value of <code>cacheAsBitmap</code> is restored.</p>
<p>A filter is not applied if the resulting image exceeds the maximum
dimensions. In AIR 1.5 and Flash Player 10, the maximum is 8,191 pixels in
width or height, and the total number of pixels cannot exceed 16,777,215
pixels. (So, if an image is 8,191 pixels wide, it can only be 2,048 pixels
high.) In Flash Player 9 and earlier and AIR 1.1 and earlier, the
limitation is 2,880 pixels in height and 2,880 pixels in width. For
example, if you zoom in on a large movie clip with a filter applied, the
filter is turned off if the resulting image exceeds maximum dimensions.</p></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3 class="anchor"><code><span class="label label-meta label-meta-value" title="Used to store default values for fields and function arguments.">@:value({ alpha : 0.0, color : 0, clamp : true, preserveAlpha : true, bias : 0.0, divisor : 1.0, matrix : null, matrixY : 0, matrixX : 0 })</span><a href="#new"><span class="identifier">new</span></a>(<span style="white-space:nowrap">matrixX:<span class="type">Int</span> = 0,</span> <span style="white-space:nowrap">matrixY:<span class="type">Int</span> = 0,</span> <span style="white-space:nowrap">?matrix:<span class="type">Array</span>&lt;<span class="type">Float</span>&gt;,</span> <span style="white-space:nowrap">divisor:<span class="type">Float</span> = 1.0,</span> <span style="white-space:nowrap">bias:<span class="type">Float</span> = 0.0,</span> <span style="white-space:nowrap">preserveAlpha:<span class="type">Bool</span> = true,</span> <span style="white-space:nowrap">clamp:<span class="type">Bool</span> = true,</span> <span style="white-space:nowrap">color:<span class="type">Int</span> = 0,</span> <span style="white-space:nowrap">alpha:<span class="type">Float</span> = 0.0</span>)</code></h3><div class="doc"><p>Initializes a ConvolutionFilter instance with the specified
parameters.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>matrixX</code></th><td><p>The <em>x</em> dimension of the matrix (the number of
columns in the matrix). The default value is 0.</p></td></tr><tr><th style="width:25%;"><code>matrixY</code></th><td><p>The <em>y</em> dimension of the matrix (the number of
rows in the matrix). The default value is 0.</p></td></tr><tr><th style="width:25%;"><code>divisor</code></th><td><p>The divisor used during matrix transformation.
The default value is 1. A divisor that is the sum
of all the matrix values evens out the overall
color intensity of the result. A value of 0 is
ignored and the default is used instead.</p></td></tr><tr><th style="width:25%;"><code>bias</code></th><td><p>The bias to add to the result of the matrix
transformation. The default value is 0.</p></td></tr><tr><th style="width:25%;"><code>preserveAlpha</code></th><td><p>A value of <code>false</code> indicates that the alpha value
is not preserved and that the convolution applies
to all channels, including the alpha channel. A
value of <code>true</code> indicates that the convolution
applies only to the color channels. The default
value is <code>true</code>.</p></td></tr><tr><th style="width:25%;"><code>clamp</code></th><td><p>For pixels that are off the source image, a value
of <code>true</code> indicates that the input image is
extended along each of its borders as necessary
by duplicating the color values at the given edge
of the input image. A value of <code>false</code> indicates
that another color should be used, as specified
in the <code>color</code> and <code>alpha</code> properties. The
default is <code>true</code>.</p></td></tr><tr><th style="width:25%;"><code>color</code></th><td><p>The hexadecimal color to substitute for pixels
that are off the source image.</p></td></tr><tr><th style="width:25%;"><code>alpha</code></th><td><p>The alpha of the substitute color.</p></td></tr></table></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="alpha"></a><h3 class="anchor"><code><a href="#alpha"><span class="identifier">alpha</span></a>:<span class="type">Float</span></code></h3><div class="doc"><p>The alpha transparency value of the substitute color. Valid values are
0 to 1.0. The default is 0. For example, .25 sets a transparency value
of 25%.</p></div></div><div class="field "><a name="bias"></a><h3 class="anchor"><code><a href="#bias"><span class="identifier">bias</span></a>:<span class="type">Float</span></code></h3><div class="doc"><p>The amount of bias to add to the result of the matrix transformation.
The bias increases the color value of each channel, so that dark
colors appear brighter. The default value is 0.</p></div></div><div class="field "><a name="clamp"></a><h3 class="anchor"><code><a href="#clamp"><span class="identifier">clamp</span></a>:<span class="type">Bool</span></code></h3><div class="doc"><p>Indicates whether the image should be clamped. For pixels off the
source image, a value of <code>true</code> indicates that the input image is
extended along each of its borders as necessary by duplicating the
color values at each respective edge of the input image. A value of
<code>false</code> indicates that another color should be used, as specified in
the <code>color</code> and <code>alpha</code> properties. The default is <code>true</code>.</p></div></div><div class="field "><a name="color"></a><h3 class="anchor"><code><a href="#color"><span class="identifier">color</span></a>:<span class="type">Int</span></code></h3><div class="doc"><p>The hexadecimal color to substitute for pixels that are off the source
image. It is an RGB value with no alpha component. The default is 0.</p></div></div><div class="field "><a name="divisor"></a><h3 class="anchor"><code><a href="#divisor"><span class="identifier">divisor</span></a>:<span class="type">Float</span></code></h3><div class="doc"><p>The divisor used during matrix transformation. The default value is 1.
A divisor that is the sum of all the matrix values smooths out the
overall color intensity of the result. A value of 0 is ignored and the
default is used instead.</p></div></div><div class="field "><a name="matrix"></a><h3 class="anchor"><code><a href="#matrix"><span class="identifier">matrix</span></a>:<span class="type">Array</span>&lt;<span class="type">Float</span>&gt;</code></h3><div class="doc"><p>An array of values used for matrix transformation. The number of items
in the array must equal <code>matrixX * matrixY</code>.
A matrix convolution is based on an <em>n</em> x <em>m</em> matrix, which describes
how a given pixel value in the input image is combined with its
neighboring pixel values to produce a resulting pixel value. Each
result pixel is determined by applying the matrix to the corresponding
source pixel and its neighboring pixels.</p>
<p>For a 3 x 3 matrix convolution, the following formula is used for each
independent color channel:</p>
<pre><code>dst (x, y) = ((src (x-1, y-1) * a0 + src(x, y-1) * a1....
			   src(x, y+1) * a7 + src (x+1,y+1) * a8) / divisor) + bias</code></pre>
<p>Certain filter specifications perform faster when run by a processor
that offers SSE (Streaming SIMD Extensions). The following are
criteria for faster convolution operations:</p><ul><li>The filter must be a 3x3 filter.</li><li>All the filter terms must be integers between -127 and +127.</li><li>The sum of all the filter terms must not have an absolute value
greater than 127.</li><li>If any filter term is negative, the divisor must be between 2.00001
and 256.</li><li>If all filter terms are positive, the divisor must be between 1.1
and 256.</li><li>The bias must be an integer.</li></ul>
<p><strong>Note:</strong> If you create a ConvolutionFilter instance using the
constructor without parameters, the order you assign values to matrix
properties affects the behavior of the filter. In the following case,
the matrix array is assigned while the <code>matrixX</code> and <code>matrixY</code>
properties are still set to <code>0</code> (the default value):</p>
<pre><code class="prettyprint haxe">public var myfilter = new ConvolutionFilter();
myfilter.matrix = [0, 0, 0, 0, 1, 0, 0, 0, 0];
myfilter.matrixX = 3;
myfilter.matrixY = 3;</code></pre>
<p>In the following case, the matrix array is assigned while the
<code>matrixX</code> and <code>matrixY</code> properties are set to <code>3</code>:</p>
<pre><code class="prettyprint haxe">public var myfilter = new ConvolutionFilter();
myfilter.matrixX = 3;
myfilter.matrixY = 3;
myfilter.matrix = [0, 0, 0, 0, 1, 0, 0, 0, 0];</code></pre><p class="javadoc">Throws:</p><table class="table table-bordered params"><tr class="indent"><th style="width:25%;"><code>TypeError</code></th><td><p>The Array is null when being set</p></td></tr></table></div></div><div class="field "><a name="matrixX"></a><h3 class="anchor"><code><a href="#matrixX"><span class="identifier">matrixX</span></a>:<span class="type">Int</span></code></h3><div class="doc"><p>The <em>x</em> dimension of the matrix (the number of columns in the matrix).
The default value is 0.</p></div></div><div class="field "><a name="matrixY"></a><h3 class="anchor"><code><a href="#matrixY"><span class="identifier">matrixY</span></a>:<span class="type">Int</span></code></h3><div class="doc"><p>The <em>y</em> dimension of the matrix (the number of rows in the matrix).
The default value is 0.</p></div></div><div class="field "><a name="preserveAlpha"></a><h3 class="anchor"><code><a href="#preserveAlpha"><span class="identifier">preserveAlpha</span></a>:<span class="type">Bool</span></code></h3><div class="doc"><p>Indicates if the alpha channel is preserved without the filter effect
or if the convolution filter is applied to the alpha channel as well
as the color channels. A value of <code>false</code> indicates that the
convolution applies to all channels, including the alpha channel. A
value of <code>true</code> indicates that the convolution applies only to the
color channels. The default value is <code>true</code>.</p></div></div></div><h3 class="section">Methods</h3><div class="fields"></div>  <div class="inherited-fields well"><h3 class="section">Inherited Variables</h3><div class="fields"><div style="display:none"></div></div><h3 class="section">Inherited Methods</h3><div class="fields"><div style="display:none"></div></div></div></div></div></div></div><footer class="section site-footer" style="background:#FAFAFA"><div class="container"><div class="copyright"><p style="color:#777777">&copy; 2025 &nbsp;<a style="color:#777777" href="https://www.openfl.org">https://www.openfl.org</a></p></div></div></footer><script src="../..//highlighter.js"></script><link href="../../highlighter.css" rel="stylesheet"/></body></html>